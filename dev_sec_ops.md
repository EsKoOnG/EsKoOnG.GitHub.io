#MISSxTalks
# DevSecOps : Integrating security to DevOps

## What's DevSecOps?
[![image](https://user-images.githubusercontent.com/74785668/110267816-26d1db80-7ff3-11eb-8dd7-05f20f461b10.png)](https://www.youtube.com/embed/OGV-z2xh09A "What Is DevSecOps?")
Reference : [What Is DevSecOps? Move Fast and Stay Secure with DevSecOps | Synopsys](https://www.youtube.com/embed/OGV-z2xh09A "Synopsys")

ก่อนอื่นต้องขอเกริ่นที่มาที่ไปของแนวทางในการดำเนินงานของการพัฒนาซอฟต์แวร์ขึ้นมาก่อน ว่าที่มาของคำว่า "DevOps" คืออะไร ในการเขียนโปรแกรมเราจำเป็นต้องมี Developer ที่จะทำหน้าที่ในการเขียน Code และประกอบกันจนกลายมาเป็น Application ให้เราได้ใช้งานกัน แต่การที่จะเอา Application มาใช้งานก็ต้องมีการเตรียมระบบ การติดตั้ง การสนับสนุนการใช้งาน ก็จะเป็นหน้าที่ของ Operations และโดยการหลักการนี้ก็จะแบ่งการทำงานกันโดยชัดเจน ซึ่งก็ดูจะไม่มีปัญหาอะไรแต่แท้จริงแล้วบ่อยครั้ง ที่ทีม Developers เขียน Code มาแล้วกว่าจะปล่อยออกมาให้ใช้งานได้ต้องรอทีม Operations เตรียมระบบกว่าจะได้ทดสอบ กว่าจะได้ปล่อยออกให้ลูกค้าใช้งาน ก็อาจจะไม่เร็วพอในการแข่งขันธุรกิจ หรือในมุมกลับกันทีม Operations ไม่สามารถติดตั้ง Application ได้ หรือติดตั้งได้ นำมาใช้งานก็เจอแต่ปัญหาให้แก้ พอแจ้งไปทาง Developers ก็ได้คำตอบว่าบนระบบของ Development ไม่มีปัญหาอะไร เป็นปัญหาที่ระบบ 

ถึงตรงนี้คุณคงจะนึกภาพออกว่าความสัมพันธ์ของ 2 ทีม นี้คงไม่ค่อยดีนัก จึงเกิดแนวคิดของการทำ "DevOps" ขึ้นมา เป็นการรวมเอา Developers + Operations มาทำงานร่วมกันในทุกกระบวนการ ยกตัวอย่างจากปัญหาข้างต้น ก็มีการนำเอาเทคโนโลยีบนหลักการ Continuous Integration [CI/CD] Continuous Delivery/Deployment มาใช้ในการ Automated Process ให้ได้มากที่สุด เพื่อลดเวลาในการเตรียมระบบ การติดตั้งใช้งาน รวมไปถึงสภาพแวดล้อมของการทดสอบระบบ และการใช้งานระบบจริงเป็นระบบที่เหมือนกัน จึงช่วยทำให้เจอปัญหาและแก้ไขตั้งแต่การพัฒนา และลดปัญหาในการใช้งานจริง และเนื่องจากในทุก ๆ ขั้นตอนทั้ง Dev และ Ops ต้องทำงานร่วมกันในมุมของข้อตกลง การเตรียมการ ข้อจำกัดไปจนถึงวิธีการ จึงทำให้แนวคิดนี้สามารถทำงานได้เร็วมากขึ้น แต่ทั้งนี้สิ่งที่อาจจะถูกมองข้ามไปก็คือ ความปลอดภัย(Security) เนื่องจากว่าต่อให้เราพัฒนาซอฟต์แวร์ได้เร็วแค่ไหน แต่หากเกิดปัญหาทางด้านความปลอดภัย ก็อาจจะต้องย้อนกลับที่จุดเริ่มต้นเพื่อที่จะแก้ปัญหาทางด้านความปลอดภัย ซึ่งก็เท่ากับว่าจะต้องใช้เวลาเพิ่มขึ้นไปอีก และนั่นจึงเป็นที่มาของแนวคิดแบบ DevSecOps ที่เพิ่มเติมทีม Security เข้าไปในทีม DevOps เพื่อให้ความปลอดภัยเป็นส่วนหนึ่งในการดำเนินงานของการพัฒนาซอฟต์แวร์

และที่สำคัญของการพัฒนาซอฟต์แวร์คือ Software Development Life Cycle โดยบทความนี้จะยกตัวอย่างการใช้ Agile ในการทำ DevOps หรือ DevSecOps ซึ่งจะได้หน้าตาประมาณรูปด้านล่างนี้

![image](https://www.synopsys.com/content/dam/synopsys/sig-assets/images/devsecops-with-shield.jpg.imgw.850.x.jpg)

[ศึกษาเพิ่มเติมเกี่ยวกับ DevSecOps | Synopsys](https://www.synopsys.com/glossary/what-is-devsecops.html)

เราก็จะได้เห็นขั้นตอนในการทำงานของ DevSecOps กันคร่าว ๆ ว่าจะมีขั้นตอนที่ทั้ง Dev และ Ops จะทำงานร่วมกันเป็นลูปและถูกครอบคลุมด้วย Sec ซึ่งจะเป็นเนื้อหาของบทความนี้ว่าเราจะนำ Security มาร่วมพัฒนาซอฟต์แวร์ได้อย่างไร

ซึ่งจากในห้องเรียน (NEIS0736/MSCS0736 2020-2021) ผมได้ยกตัวอย่าง [Microsoft Security Development Lifecycle](https://social.technet.microsoft.com/wiki/contents/articles/7100.the-security-development-lifecycle.aspx) แต่เป็นเวอร์ชั่น 2012 ซึ่งหากคุณสนใจเวอร์ชั่นปัจจุบันสามารถศึกษาเพิ่มเติมได้จาก[ที่นี่](https://www.microsoft.com/en-us/securityengineering)


## Microsoft Security Development Lifecycle

![image](https://social.technet.microsoft.com/wiki/cfs-filesystemfile.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/5554.SDL_5F00_Steps.jpg)

โดยจะมีการแบ่ง Phase ตามภาพดังนี้

- Phase 1: Core Security Training

ในขั้นตอนนี้เป็นข้อกำหนดเบื้องต้นสำหรับการนำ Security Development Lifecycle (SDL) ไปใช้: สำหรับบุคคลที่มีบทบาททางเทคนิค (นักพัฒนา ผู้ทดสอบ และผู้จัดการโครงการ) ผู้ที่เกี่ยวข้องโดยตรงกับการพัฒนาซอฟต์แวร์จะต้องเข้าร่วมการฝึกอบรมด้านความปลอดภัยที่มีการพัฒนาอย่างต่อเนื่อง อย่างน้อยหนึ่งครั้งในแต่ละปี ด้วยการให้บุคคลที่เกี่ยวข้องกับการพัฒนาโปรแกรมซอฟต์แวร์ได้รับทราบข้อมูลพื้นฐานเกี่ยวกับความปลอดภัยและแนวโน้มภัยคุกคามล่าสุดในด้านความปลอดภัยและความเป็นส่วนตัว จะช่วยให้ผู้ที่เกี่ยวข้องมีความมุ่งมั่นในการเขียนซอฟต์แวร์ที่มีความปลอดภัยมากขึ้น

- Phase 2: Requirements

ในขั้นตอนที่เป็นข้อกำหนดของ SDL ในการเริ่มต้นโครงการ (เมื่อคุณต้องพิจารณาความปลอดภัยและความเป็นส่วนตัวในระดับพื้นฐาน) และการวิเคราะห์ต้นทุน (เมื่อคุณต้องพิจารณาว่าต้นทุนการพัฒนาและการสนับสนุนสำหรับการปรับปรุงความปลอดภัยและความเป็นส่วนตัวสอดคล้องกับความต้องการทางธุรกิจหรือไม่)

- Phase 3: Design

ขั้นตอนการออกแบบ คือเมื่อคุณสร้างแผนสำหรับวิธีการที่คุณจะนำโครงการของคุณมาผ่านกระบวนการ SDL ที่เหลือ: ตั้งแต่การใช้งานไปจนถึงการตรวจสอบจนถึงการเปิดตัวให้ใช้งาน ในระหว่างขั้นตอนการออกแบบคุณจะต้องกำหนดแนวทางปฏิบัติที่ดีที่สุดที่จะปฏิบัติตาม โดยใช้ข้อกำหนดด้านการทำงานและการออกแบบ และทำการวิเคราะห์ความเสี่ยงเพื่อระบุภัยคุกคามและช่องโหว่ในซอฟต์แวร์

- Phase 4: Implementation

ขั้นตอนการนำไปใช้งาน คือเมื่อผู้ใช้ซอฟต์แวร์ของคุณเป็นสิ่งสำคัญที่สุดในความคิดของคุณ ในระหว่างขั้นตอนนี้คุณจะต้องสร้างเอกสารและเครื่องมือ ที่ลูกค้าใช้ในการตัดสินใจเกี่ยวกับวิธีปรับใช้ซอฟต์แวร์ของคุณอย่างปลอดภัย ด้วยเหตุนี้ขั้นตอนการนำไปใช้งานคือ คุณจะกำหนดแนวทางปฏิบัติที่ดีที่สุดในการพัฒนาเพื่อตรวจจับและกำจัดปัญหาด้านความปลอดภัยและความเป็นส่วนตัว ในช่วงต้นของวงจรในการเริ่มพัฒนา

- Phase 5: Verification

ในระหว่างขั้นตอนการยืนยัน คุณต้องแน่ใจว่ารหัสของคุณตรงตามหลักความปลอดภัยและความเป็นส่วนตัวที่คุณกำหนดไว้ในขั้นตอนก่อนหน้านี้ ซึ่งได้ผ่านการทดสอบความปลอดภัยและความเป็นส่วนตัว และการผลักดันด้านความปลอดภัยซึ่งเป็นการมุ่งเน้นทั้งทีมในการอัปเดตรูปแบบภัยคุกคาม การตรวจสอบโค้ด การทดสอบ และการตรวจสอบแก้ไขเอกสารอย่างละเอียด นอกจากนี้การตรวจสอบความเป็นส่วนตัวในการเผยแพร่สู่สาธารณะจะเสร็จสมบูรณ์ในช่วงการยืนยันนี้

- Phase 6: Release

ขั้นตอนการเผยแพร่ คือเมื่อคุณเตรียมซอฟต์แวร์ให้พร้อมสำหรับการใช้งานในสาธารณะ และที่สำคัญกว่านั้นคือคุณและทีมงานพร้อมสำหรับสิ่งที่จะเกิดขึ้นเมื่อซอฟต์แวร์ของคุณอยู่ในมือของผู้ใช้ หนึ่งในแนวคิดหลักในขั้นตอนการเผยแพร่คือการวางแผน (การทำแผนที่แผนปฏิบัติการหากพบช่องโหว่ด้านความปลอดภัยหรือความเป็นส่วนตัวในเวอร์ชั่นล่าสุดของคุณ) และรวมไปถึงหลังจากการเผยแพร่เช่นกัน ในแง่ของการดำเนินการตอบสนอง ด้วยเหตุนี้จึงจำเป็นต้องมีการตรวจสอบความปลอดภัยขั้นสุดท้ายและการตรวจสอบความเป็นส่วนตัวก่อนที่จะเผยแพร่

- Phase 7: Response

หลังจากเผยแพร่ซอฟต์แวร์ ทีมพัฒนาผลิตภัณฑ์จะต้องพร้อมที่จะตอบสนองต่อช่องโหว่ด้านความปลอดภัยที่อาจเกิดขึ้นหรือปัญหาความเป็นส่วนตัวที่รับประกันการตอบสนอง นอกจากนี้ให้พัฒนาแผนรับมือซึ่งรวมถึงการเตรียมการสำหรับปัญหาหลังการเผยแพร่ที่อาจเกิดขึ้นด้วย
